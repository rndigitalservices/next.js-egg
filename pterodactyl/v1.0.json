{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2025-08-14T20:41:55+02:00",
    "name": "Next JS v1.0",
    "author": "support@rndigitalservices.net",
    "description": "Host a Next.js application easily",
    "features": null,
    "docker_images": {
        "Nodejs 24": "ghcr.io/parkervcp/yolks:nodejs_24",
        "Nodejs 23": "ghcr.io/parkervcp/yolks:nodejs_23",
        "Nodejs 22": "ghcr.io/parkervcp/yolks:nodejs_22",
        "Nodejs 21": "ghcr.io/parkervcp/yolks:nodejs_21",
        "Nodejs 20": "ghcr.io/parkervcp/yolks:nodejs_20",
        "Nodejs 19": "ghcr.io/parkervcp/yolks:nodejs_19",
        "Nodejs 18": "ghcr.io/parkervcp/yolks:nodejs_18"
    },
    "file_denylist": [],
    "startup": "cd ${BUILD_DIR} && [ \"${AUTO_UPDATE}\" == \"1\" ] && { [ \"${LOGS_STATUS}\" == \"1\" ] && echo \"Auto-update is enabled. Pulling latest files from GitHub...\" | tee -a logs/update.log || echo \"Auto-update is enabled. Pulling latest files from GitHub...\"; [ -n \"${USERNAME}\" ] && [ -n \"${ACCESS_TOKEN}\" ] && git config --global credential.helper store && echo \"https://${USERNAME}:${ACCESS_TOKEN}@$(echo ${GITHUB_URL} | sed -e 's|https://||')\" > ~/.git-credentials; git init; git remote get-url origin &>/dev/null || git remote add origin ${GITHUB_URL}; git remote set-url origin ${GITHUB_URL}; git fetch origin ${GIT_BRANCH} && git reset --hard origin/${GIT_BRANCH}; }; mkdir -p ${BUILD_DIR}/node_modules && npm config set prefix ${BUILD_DIR}/node_modules && command -v npm &>/dev/null || npm install -g npm; command -v yarn &>/dev/null || npm install -g yarn; export PATH=${BUILD_DIR}/node_modules:$PATH; [ -f \"package.json\" ] && { [ \"${PROJECT_RUN}\" == \"yarn\" ] && yarn || npm install; } || echo \"No package.json found. Skipping package manager.\"; [ -n \"${NODE_PACKAGES}\" ] && { MODULES_LIST=$(echo ${NODE_PACKAGES} | tr ',' ' '); [ \"${MODULES_UNINSTALL}\" == \"1\" ] && { [ \"${PROJECT_RUN}\" == \"yarn\" ] && yarn remove ${MODULES_LIST} || npm uninstall ${MODULES_LIST}; echo \"Modules uninstalled successfully\"; } || { [ \"${PROJECT_RUN}\" == \"yarn\" ] && yarn add ${MODULES_LIST} || npm install ${MODULES_LIST}; echo \"Modules installed successfully\"; }; }; [ \"${LOGS_STATUS}\" == \"1\" ] && mkdir -p logs && echo \"Logs directory created\"; if [ \"${NODE_RUN_ENV}\" == \"dev\" ]; then [ \"${LOGS_STATUS}\" == \"1\" ] && { [ \"${PROJECT_RUN}\" == \"yarn\" ] && echo \"NEXT_PUBLIC_API_URL is set to: ${NEXT_PUBLIC_API_URL}\" && NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL} yarn dev -p ${NEXT_SERVER_PORT} -H ${NEXT_HOST} | tee -a logs/next_dev.log || echo \"NEXT_PUBLIC_API_URL is set to: ${NEXT_PUBLIC_API_URL}\" && NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL} npm run dev -- -p ${NEXT_SERVER_PORT} -H ${NEXT_HOST} | tee -a logs/next_dev.log; } || { [ \"${PROJECT_RUN}\" == \"yarn\" ] && echo \"NEXT_PUBLIC_API_URL is set to: ${NEXT_PUBLIC_API_URL}\" && NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL} yarn dev -p ${NEXT_SERVER_PORT} -H ${NEXT_HOST} || echo \"NEXT_PUBLIC_API_URL is set to: ${NEXT_PUBLIC_API_URL}\" && NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL} npm run dev -- -p ${NEXT_SERVER_PORT} -H ${NEXT_HOST}; }; else [ \"${LOGS_STATUS}\" == \"1\" ] && { [ \"${PROJECT_RUN}\" == \"yarn\" ] && yarn build && echo \"NEXT_PUBLIC_API_URL is set to: ${NEXT_PUBLIC_API_URL}\" && NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL} yarn start -p ${NEXT_SERVER_PORT} -H ${NEXT_HOST} | tee -a logs/next_start.log || npm run build && echo \"NEXT_PUBLIC_API_URL is set to: ${NEXT_PUBLIC_API_URL}\" && NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL} npm run start -- -p ${NEXT_SERVER_PORT} -H ${NEXT_HOST} | tee -a logs/next_start.log; } || { [ \"${PROJECT_RUN}\" == \"yarn\" ] && yarn build && echo \"NEXT_PUBLIC_API_URL is set to: ${NEXT_PUBLIC_API_URL}\" && NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL} yarn start -p ${NEXT_SERVER_PORT} -H ${NEXT_HOST} || npm run build && echo \"NEXT_PUBLIC_API_URL is set to: ${NEXT_PUBLIC_API_URL}\" && NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL} npm run start -- -p ${NEXT_SERVER_PORT} -H ${NEXT_HOST}; }; fi",
    "config": {
        "files": "{}",
        "startup": "{\r\n    \"done\": \"Compiled successfully\"\r\n}",
        "logs": "{}",
        "stop": "^^C"
    },
    "scripts": {
        "installation": {
            "script": "#!\/bin\/bash\r\napk update\r\napk add --no-cache bash git\r\napk add --no-cache nodejs npm\r\ncd \/home\/container\r\nnpm install",
            "container": "alpine:3.4",
            "entrypoint": "ash"
        }
    },
    "variables": [
        {
            "name": "Auto Pull",
            "description": "Pull from the repository on startup",
            "env_variable": "AUTO_UPDATE",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|boolean",
            "field_type": "text"
        },
        {
            "name": "Branch",
            "description": "Which branch to install",
            "env_variable": "GIT_BRANCH",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Build Directory",
            "description": "Here you can enter the path where your appaltion is located, this again involves moving folders to the root folder",
            "env_variable": "BUILD_DIR",
            "default_value": "/home/container",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        },
        {
            "name": "GITHUB URL",
            "description": "Repository to clone (https://github.com/user_name/repo_name)",
            "env_variable": "GITHUB_URL",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Git Access Token",
            "description": "Password used to auth with git (https://github.com/settings/tokens)",
            "env_variable": "ACCESS_TOKEN",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Git Username",
            "description": "Username used to auth with git",
            "env_variable": "USERNAME",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Host Header",
            "description": "Here you can put the host, normally always set to 0.0.0.0 to allow any host",
            "env_variable": "NEXT_HOST",
            "default_value": "0.0.0.0",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        },
        {
            "name": "Logs Status",
            "description": "Toggle this switch to enable or disable logging",
            "env_variable": "LOGS_STATUS",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|boolean",
            "field_type": "text"
        },
        {
            "name": "Modules",
            "description": "The Modules that need to be installed by NPM for your nextjs project are marked with ,",
            "env_variable": "NODE_PACKAGES",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Modules Uninstall",
            "description": "Switch this switch to choose whether you want to install or delete the modules. Normally this is the default value and installs them.",
            "env_variable": "MODULES_UNINSTALL",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|boolean",
            "field_type": "text"
        },
        {
            "name": "Node ENV",
            "description": "The environment in which the Next.js application runs (e.g. dev for development or production for production).",
            "env_variable": "NODE_RUN_ENV",
            "default_value": "dev",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|in:dev,production",
            "field_type": "text"
        },
        {
            "name": "Project Run",
            "description": "How the app should be run with NPM or YARN",
            "env_variable": "PROJECT_RUN",
            "default_value": "npm",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|in:npm,yarn",
            "field_type": "text"
        },
        {
            "name": "Public Api Url",
            "description": "",
            "env_variable": "NEXT_PUBLIC_API_URL",
            "default_value": "https:\\/\\/example.com",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        },
        {
            "name": "Server Port",
            "description": "Here you can set the port on which your nextjs app can be reached",
            "env_variable": "NEXT_SERVER_PORT",
            "default_value": "3000",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|integer|min:1024|max:65535",
            "field_type": "text"
        }
    ]
}
